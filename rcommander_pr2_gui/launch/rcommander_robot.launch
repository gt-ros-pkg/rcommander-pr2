<launch>
    <arg name="interactive_manipulation" default="true"/>
    <arg name="sim" default="false"/>
    <arg name="standalone" default="false"/>
    <arg name="use_right_arm" default="true"/>
    <arg name="use_left_arm" default="true"/>

    <include if="$(arg interactive_manipulation)" file="$(find pr2_interactive_manipulation)/launch/pr2_interactive_manipulation_robot.launch"/>
    <group unless="$(arg interactive_manipulation)">
        <include file="$(find pr2_object_manipulation_launch)/launch/c_jt.launch">
            <arg if="$(arg use_right_arm)" name="use_right_arm" value="true" />
            <arg if="$(arg use_left_arm)"  name="use_left_arm" value="true" />
        </include>

        <include if="$(arg use_right_arm)" file="$(find pr2_arm_navigation_kinematics)/launch/right_arm_collision_free_ik.launch"/>
        <include if="$(arg use_left_arm)"  file="$(find pr2_arm_navigation_kinematics)/launch/left_arm_collision_free_ik.launch"/>
        <param name="pr2_right_arm_kinematics/object_padd" value="0.04"/>
        <param name="pr2_left_arm_kinematics/object_padd" value="0.04"/>
    </group>

    <include unless="$(arg sim)" file="$(find tts_server)/tts_server.launch"/>
    <include unless="$(arg sim)" file="$(find rcommander_pr2_gui)/launch/pr2_gripper_sensor_actions.launch"/>

    <include file="$(find face_detector)/launch/face_detector_action.wide.launch"/>

    <include file="$(find rcommander_pr2_gui)/launch/ptp_arm_action.launch"/>
    <node pkg="rcommander_pr2_gui" type="rcommander_tuckarm_node.py" output="screen" name="rc_tuck_arms_node"/>
    <node pkg="tf_broadcast_server" type="tf_broadcast_server.py" output="screen" name="rcommander_tf_broadcast"/>

    <node unless="$(arg standalone)" pkg="rcommander_pr2_gui" type="min_time_node" output="screen" name="min_time_to_move_node"/>
    <node unless="$(arg standalone)" pkg="topic_tools" type="throttle" output="screen" name="joint_states_throttler" args="messages joint_states 20."/>
</launch>
